image: registry.gitlab.com/aleksandr-kotlyar/java-sitemap-checker
stages:
  - test

variables:
  SITEMAPURL: https://www.ivi.ru/sitemap-series-adventures.xml #default sitemapUrl
  SOURCETYPE:

.test:
  stage: test
  script:
    - mvn clean test -DsitemapUrl=${SITEMAPURL} -Dgroups=${SOURCETYPE}

xml: test
  extends: .test
  variables:
    SOURCETYPE: source.type.Xml

html:
  extends: .test
  variables:
    SOURCETYPE: source.type.Html